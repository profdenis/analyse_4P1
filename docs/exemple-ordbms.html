<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-04-03T22:11:55.298561788"><title>Exemple : ORDBMS | Help Instance</title><script type="application/json" id="virtual-toc-data">[{"id":"contacts-normalis-s","level":0,"title":"Contacts normalisés","anchor":"#contacts-normalis-s"},{"id":"contacts-d-normalis-s","level":0,"title":"Contacts dénormalisés","anchor":"#contacts-d-normalis-s"},{"id":"types-d-finis-par-les-utilisateurs","level":0,"title":"Types définis par les utilisateurs","anchor":"#types-d-finis-par-les-utilisateurs"},{"id":"jsonb-la-place-de-tableaux","level":0,"title":"JSONB à la place de tableaux","anchor":"#jsonb-la-place-de-tableaux"},{"id":"sch-ma-relationnel-avec-les-types-de-contact","level":0,"title":"Schéma relationnel avec les types de contact","anchor":"#sch-ma-relationnel-avec-les-types-de-contact"},{"id":"comment-traitons-nous-les-relations-plusieurs-plusieurs","level":0,"title":"Comment traitons-nous les relations plusieurs à plusieurs ?","anchor":"#comment-traitons-nous-les-relations-plusieurs-plusieurs"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.css" rel="stylesheet"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Exemple : ORDBMS | Help Instance"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Help Instance Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/exemple-ordbms.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Exemple : ORDBMS | Help Instance"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/exemple-ordbms.html#webpage",
    "url": "writerside-documentation/exemple-ordbms.html",
    "name": "Exemple : ORDBMS | Help Instance",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Help Instance Help"
}</script><!-- End Schema.org --></head><body data-id="Exemple-ORDBMS" data-main-title="Exemple : ORDBMS" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Conception-detaillee.md|Conception détaillée///Modeles-de-donnees.md|Modèles de données"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Help Instance  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Exemple-ORDBMS" id="Exemple-ORDBMS.md">Exemple : ORDBMS</h1><p id="ayhz68_1088"><span class="emphasis" id="ayhz68_1089">ORDBMS</span>: Object-Relational DBMS</p><section class="chapter"><h2 id="contacts-normalis-s" data-toc="contacts-normalis-s">Contacts normalis&eacute;s</h2><section class="chapter"><h3 id="contacts1-sch-ma-relationnel" data-toc="contacts1-sch-ma-relationnel"><code class="code" id="ayhz68_1091">contacts1</code> Sch&eacute;ma relationnel</h3><div class="code-block" data-lang="sql">
DROP SCHEMA IF EXISTS contacts1 CASCADE;
CREATE SCHEMA contacts1;
SET search_path TO contacts1;

CREATE TABLE users (
    uid INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    username VARCHAR(15) NOT NULL,
    email TEXT NOT NULL,
    firstname TEXT,
    lastname TEXT,
    emergency_contact TEXT
);
</div><div class="code-block" data-lang="sql">
INSERT INTO users (username, email, emergency_contact)
    VALUES ('denis', 'denis.rinfret@example.com', 'help@example.com'),
            ('minh', 'minh@example.com', 'contact@example.com');
</div><div class="code-block" data-lang="sql">
SELECT * FROM users;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1095"><thead><tr class="ijRowHead" id="ayhz68_1096"><th id="ayhz68_1097"><p>uid</p></th><th id="ayhz68_1098"><p>username</p></th><th id="ayhz68_1099"><p>email</p></th><th id="ayhz68_1100"><p>firstname</p></th><th id="ayhz68_1101"><p>lastname</p></th><th id="ayhz68_1102"><p>emergency_contact</p></th></tr></thead><tbody><tr id="ayhz68_1103"><td id="ayhz68_1104"><p>1</p></td><td id="ayhz68_1105"><p>denis</p></td><td id="ayhz68_1106"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1107"><p>None</p></td><td id="ayhz68_1108"><p>None</p></td><td id="ayhz68_1109"><p>help@example.com</p></td></tr><tr id="ayhz68_1110"><td id="ayhz68_1111"><p>2</p></td><td id="ayhz68_1112"><p>minh</p></td><td id="ayhz68_1113"><p>minh@example.com</p></td><td id="ayhz68_1114"><p>None</p></td><td id="ayhz68_1115"><p>None</p></td><td id="ayhz68_1116"><p>contact@example.com</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="que-devons-nous-faire-pour-permettre-un-utilisateur-d-avoir-plus-d-un-contact" data-toc="que-devons-nous-faire-pour-permettre-un-utilisateur-d-avoir-plus-d-un-contact">Que devons-nous faire pour permettre &agrave; un utilisateur d'avoir plus d'un contact ?</h3><ol class="list _decimal" id="ayhz68_1117" type="1"><li class="list__item" id="ayhz68_1118"><p>Si le nombre de contacts est fixe, disons <code class="code" id="ayhz68_1119">n</code> contacts, alors nous pourrions avoir <code class="code" id="ayhz68_1120">n</code> colonnes de contacts, tant que <code class="code" id="ayhz68_1121">n</code> est petit.</p></li><li class="list__item" id="ayhz68_1122"><p>Mais si <code class="code" id="ayhz68_1123">n</code> n'est pas petit ou si <code class="code" id="ayhz68_1124">n</code> est inconnu, alors nous devons avoir une autre table, une table contacts, pour pr&eacute;server la premi&egrave;re forme normale.</p></li><li class="list__item" id="ayhz68_1125"><p>La premi&egrave;re forme normale stipule que chaque valeur de colonne doit &ecirc;tre atomique.</p></li></ol></section><section class="chapter"><h3 id="contacts2-sch-ma-relationnel" data-toc="contacts2-sch-ma-relationnel"><code class="code" id="ayhz68_1127">contacts2</code> Sch&eacute;ma relationnel</h3><div class="code-block" data-lang="sql">
DROP SCHEMA IF EXISTS contacts2 CASCADE;
CREATE SCHEMA contacts2;
SET search_path TO contacts2;

CREATE TABLE users (
    uid INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    username VARCHAR(15) NOT NULL,
    email TEXT NOT NULL,
    firstname TEXT,
    lastname TEXT
);

CREATE TABLE contacts (
    cid INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    email TEXT NOT NULL,
    uid INTEGER REFERENCES users(uid)
)
</div><div class="code-block" data-lang="sql">
 INSERT INTO users (username, email)
    VALUES ('denis', 'denis.rinfret@example.com'),
            ('minh', 'minh@example.com');

INSERT INTO contacts (email, uid) 
    VALUES ('help@example.com', 1), ('minh@example.com', 1), 
        ('contact@example.com', 2) , ('ha@example.com', 2);
    
</div><div class="code-block" data-lang="sql">
SELECT * FROM users;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1131"><thead><tr class="ijRowHead" id="ayhz68_1132"><th id="ayhz68_1133"><p>uid</p></th><th id="ayhz68_1134"><p>username</p></th><th id="ayhz68_1135"><p>email</p></th><th id="ayhz68_1136"><p>firstname</p></th><th id="ayhz68_1137"><p>lastname</p></th></tr></thead><tbody><tr id="ayhz68_1138"><td id="ayhz68_1139"><p>1</p></td><td id="ayhz68_1140"><p>denis</p></td><td id="ayhz68_1141"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1142"><p>None</p></td><td id="ayhz68_1143"><p>None</p></td></tr><tr id="ayhz68_1144"><td id="ayhz68_1145"><p>2</p></td><td id="ayhz68_1146"><p>minh</p></td><td id="ayhz68_1147"><p>minh@example.com</p></td><td id="ayhz68_1148"><p>None</p></td><td id="ayhz68_1149"><p>None</p></td></tr></tbody></table></div><div class="code-block" data-lang="sql">
SELECT * FROM contacts;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1151"><thead><tr class="ijRowHead" id="ayhz68_1152"><th id="ayhz68_1153"><p>cid</p></th><th id="ayhz68_1154"><p>email</p></th><th id="ayhz68_1155"><p>uid</p></th></tr></thead><tbody><tr id="ayhz68_1156"><td id="ayhz68_1157"><p>1</p></td><td id="ayhz68_1158"><p>help@example.com</p></td><td id="ayhz68_1159"><p>1</p></td></tr><tr id="ayhz68_1160"><td id="ayhz68_1161"><p>2</p></td><td id="ayhz68_1162"><p>minh@example.com</p></td><td id="ayhz68_1163"><p>1</p></td></tr><tr id="ayhz68_1164"><td id="ayhz68_1165"><p>3</p></td><td id="ayhz68_1166"><p>contact@example.com</p></td><td id="ayhz68_1167"><p>2</p></td></tr><tr id="ayhz68_1168"><td id="ayhz68_1169"><p>4</p></td><td id="ayhz68_1170"><p>ha@example.com</p></td><td id="ayhz68_1171"><p>2</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="jointure-n-cessaire-pour-obtenir-toutes-les-donn-es" data-toc="jointure-n-cessaire-pour-obtenir-toutes-les-donn-es">Jointure n&eacute;cessaire pour obtenir toutes les donn&eacute;es</h3><div class="code-block" data-lang="sql">
SELECT * FROM users u INNER JOIN contacts c ON u.uid = c.uid;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1173"><thead><tr class="ijRowHead" id="ayhz68_1174"><th id="ayhz68_1175"><p>uid</p></th><th id="ayhz68_1176"><p>username</p></th><th id="ayhz68_1177"><p>email</p></th><th id="ayhz68_1178"><p>firstname</p></th><th id="ayhz68_1179"><p>lastname</p></th><th id="ayhz68_1180"><p>cid</p></th><th id="ayhz68_1181"><p>email_1</p></th><th id="ayhz68_1182"><p>uid_1</p></th></tr></thead><tbody><tr id="ayhz68_1183"><td id="ayhz68_1184"><p>1</p></td><td id="ayhz68_1185"><p>denis</p></td><td id="ayhz68_1186"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1187"><p>None</p></td><td id="ayhz68_1188"><p>None</p></td><td id="ayhz68_1189"><p>1</p></td><td id="ayhz68_1190"><p>help@example.com</p></td><td id="ayhz68_1191"><p>1</p></td></tr><tr id="ayhz68_1192"><td id="ayhz68_1193"><p>1</p></td><td id="ayhz68_1194"><p>denis</p></td><td id="ayhz68_1195"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1196"><p>None</p></td><td id="ayhz68_1197"><p>None</p></td><td id="ayhz68_1198"><p>2</p></td><td id="ayhz68_1199"><p>minh@example.com</p></td><td id="ayhz68_1200"><p>1</p></td></tr><tr id="ayhz68_1201"><td id="ayhz68_1202"><p>2</p></td><td id="ayhz68_1203"><p>minh</p></td><td id="ayhz68_1204"><p>minh@example.com</p></td><td id="ayhz68_1205"><p>None</p></td><td id="ayhz68_1206"><p>None</p></td><td id="ayhz68_1207"><p>3</p></td><td id="ayhz68_1208"><p>contact@example.com</p></td><td id="ayhz68_1209"><p>2</p></td></tr><tr id="ayhz68_1210"><td id="ayhz68_1211"><p>2</p></td><td id="ayhz68_1212"><p>minh</p></td><td id="ayhz68_1213"><p>minh@example.com</p></td><td id="ayhz68_1214"><p>None</p></td><td id="ayhz68_1215"><p>None</p></td><td id="ayhz68_1216"><p>4</p></td><td id="ayhz68_1217"><p>ha@example.com</p></td><td id="ayhz68_1218"><p>2</p></td></tr></tbody></table></div><ol class="list _decimal" id="ayhz68_1219" type="1"><li class="list__item" id="ayhz68_1220"><p>Les jointures peuvent &ecirc;tre lentes.</p></li><li class="list__item" id="ayhz68_1221"><p>Mais sans normalisation, les donn&eacute;es peuvent &ecirc;tre redondantes et des anomalies peuvent appara&icirc;tre.</p></li><li class="list__item" id="ayhz68_1222"><p>Une SGDB <code class="code" id="ayhz68_1223">object-relationalle</code> (SGBDOR, ou ORDBMS) peut aider.</p></li></ol></section></section><section class="chapter"><h2 id="contacts-d-normalis-s" data-toc="contacts-d-normalis-s">Contacts d&eacute;normalis&eacute;s</h2><section class="chapter"><h3 id="contacts3-sch-ma-objet-relationnel" data-toc="contacts3-sch-ma-objet-relationnel"><code class="code" id="ayhz68_1225">contacts3</code> Sch&eacute;ma objet-relationnel</h3><div class="code-block" data-lang="sql">
DROP SCHEMA IF EXISTS contacts3 CASCADE;
CREATE SCHEMA contacts3;
SET search_path TO contacts3;

CREATE TABLE users (
    uid INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    username VARCHAR(15) NOT NULL,
    email TEXT NOT NULL,
    firstname TEXT,
    lastname TEXT,
    emergency_contacts TEXT[]
);
</div><div class="code-block" data-lang="sql">
INSERT INTO users (username, email, emergency_contacts)
VALUES ('denis', 'denis.rinfret@example.com',
        ARRAY ['help@example.com', 'minh@example.com']),
       ('minh', 'minh@example.com',
        ARRAY ['contact@example.com', 'ha@example.com']);
</div><div class="code-block" data-lang="sql">
SELECT uid, emergency_contacts FROM users;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1229"><thead><tr class="ijRowHead" id="ayhz68_1230"><th id="ayhz68_1231"><p>uid</p></th><th id="ayhz68_1232"><p>emergency_contacts</p></th></tr></thead><tbody><tr id="ayhz68_1233"><td id="ayhz68_1234"><p>1</p></td><td id="ayhz68_1235"><p>[&quot;help@example.com&quot;, &quot;minh@example.com&quot;]</p></td></tr><tr id="ayhz68_1236"><td id="ayhz68_1237"><p>2</p></td><td id="ayhz68_1238"><p>[&quot;contact@example.com&quot;, &quot;ha@example.com&quot;]</p></td></tr></tbody></table></div><div class="code-block" data-lang="sql">
SELECT uid, username, email, firstname, lastname, 
        unnest(emergency_contacts) 
FROM users;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1240"><thead><tr class="ijRowHead" id="ayhz68_1241"><th id="ayhz68_1242"><p>uid</p></th><th id="ayhz68_1243"><p>username</p></th><th id="ayhz68_1244"><p>email</p></th><th id="ayhz68_1245"><p>firstname</p></th><th id="ayhz68_1246"><p>lastname</p></th><th id="ayhz68_1247"><p>unnest</p></th></tr></thead><tbody><tr id="ayhz68_1248"><td id="ayhz68_1249"><p>1</p></td><td id="ayhz68_1250"><p>denis</p></td><td id="ayhz68_1251"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1252"><p>None</p></td><td id="ayhz68_1253"><p>None</p></td><td id="ayhz68_1254"><p>help@example.com</p></td></tr><tr id="ayhz68_1255"><td id="ayhz68_1256"><p>1</p></td><td id="ayhz68_1257"><p>denis</p></td><td id="ayhz68_1258"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1259"><p>None</p></td><td id="ayhz68_1260"><p>None</p></td><td id="ayhz68_1261"><p>minh@example.com</p></td></tr><tr id="ayhz68_1262"><td id="ayhz68_1263"><p>2</p></td><td id="ayhz68_1264"><p>minh</p></td><td id="ayhz68_1265"><p>minh@example.com</p></td><td id="ayhz68_1266"><p>None</p></td><td id="ayhz68_1267"><p>None</p></td><td id="ayhz68_1268"><p>contact@example.com</p></td></tr><tr id="ayhz68_1269"><td id="ayhz68_1270"><p>2</p></td><td id="ayhz68_1271"><p>minh</p></td><td id="ayhz68_1272"><p>minh@example.com</p></td><td id="ayhz68_1273"><p>None</p></td><td id="ayhz68_1274"><p>None</p></td><td id="ayhz68_1275"><p>ha@example.com</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="trouver-les-utilisateurs-avec-un-courriel-sp-cifique-comme-premier-contact-d-urgence" data-toc="trouver-les-utilisateurs-avec-un-courriel-sp-cifique-comme-premier-contact-d-urgence">Trouver les utilisateurs avec un courriel sp&eacute;cifique comme premier contact d'urgence</h3><div class="code-block" data-lang="sql">
SELECT uid, username, email
FROM users
WHERE emergency_contacts[1] = 'help@example.com';
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1277"><thead><tr class="ijRowHead" id="ayhz68_1278"><th id="ayhz68_1279"><p>uid</p></th><th id="ayhz68_1280"><p>username</p></th><th id="ayhz68_1281"><p>email</p></th></tr></thead><tbody><tr id="ayhz68_1282"><td id="ayhz68_1283"><p>1</p></td><td id="ayhz68_1284"><p>denis</p></td><td id="ayhz68_1285"><p>denis.rinfret@example.com</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="trouver-un-utilisateur-avec-un-courriel-sp-cifique-comme-contact-d-urgence-n-importe-quelle-position" data-toc="trouver-un-utilisateur-avec-un-courriel-sp-cifique-comme-contact-d-urgence-n-importe-quelle-position">Trouver un utilisateur avec un courriel sp&eacute;cifique comme contact d'urgence (n'importe quelle position)</h3><div class="code-block" data-lang="sql">
 
SELECT uid, username, email
FROM users
WHERE 'ha@example.com' = ANY (emergency_contacts);
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1287"><thead><tr class="ijRowHead" id="ayhz68_1288"><th id="ayhz68_1289"><p>uid</p></th><th id="ayhz68_1290"><p>username</p></th><th id="ayhz68_1291"><p>email</p></th></tr></thead><tbody><tr id="ayhz68_1292"><td id="ayhz68_1293"><p>2</p></td><td id="ayhz68_1294"><p>minh</p></td><td id="ayhz68_1295"><p>minh@example.com</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="trouver-les-utilisateurs-qui-sont-list-s-comme-contact-d-urgence-d-autres-utilisateurs" data-toc="trouver-les-utilisateurs-qui-sont-list-s-comme-contact-d-urgence-d-autres-utilisateurs">Trouver les utilisateurs qui sont list&eacute;s comme contact d'urgence d'autres utilisateurs</h3><div class="code-block" data-lang="sql">
SELECT uid, username, email
FROM users
WHERE email IN (SELECT unnest(emergency_contacts) 
                FROM users);
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1297"><thead><tr class="ijRowHead" id="ayhz68_1298"><th id="ayhz68_1299"><p>uid</p></th><th id="ayhz68_1300"><p>username</p></th><th id="ayhz68_1301"><p>email</p></th></tr></thead><tbody><tr id="ayhz68_1302"><td id="ayhz68_1303"><p>2</p></td><td id="ayhz68_1304"><p>minh</p></td><td id="ayhz68_1305"><p>minh@example.com</p></td></tr></tbody></table></div><div class="code-block" data-lang="sql">
SELECT distinct uid, username, email
FROM users
         INNER JOIN
     (SELECT unnest(emergency_contacts) AS emergency_email
      FROM users) AS all_contacts 
         ON email = emergency_email;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1307"><thead><tr class="ijRowHead" id="ayhz68_1308"><th id="ayhz68_1309"><p>uid</p></th><th id="ayhz68_1310"><p>username</p></th><th id="ayhz68_1311"><p>email</p></th></tr></thead><tbody><tr id="ayhz68_1312"><td id="ayhz68_1313"><p>2</p></td><td id="ayhz68_1314"><p>minh</p></td><td id="ayhz68_1315"><p>minh@example.com</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="sans-unnest-ni-sous-requ-tes" data-toc="sans-unnest-ni-sous-requ-tes">Sans <code class="code" id="ayhz68_1317">unnest</code> ni sous-requ&ecirc;tes</h3><div class="code-block" data-lang="sql">
SELECT u1.uid, u1.username, u1.email
FROM users u1 INNER JOIN users u2 
     ON u1.email =ANY (u2.emergency_contacts);
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1319"><thead><tr class="ijRowHead" id="ayhz68_1320"><th id="ayhz68_1321"><p>uid</p></th><th id="ayhz68_1322"><p>username</p></th><th id="ayhz68_1323"><p>email</p></th></tr></thead><tbody><tr id="ayhz68_1324"><td id="ayhz68_1325"><p>2</p></td><td id="ayhz68_1326"><p>minh</p></td><td id="ayhz68_1327"><p>minh@example.com</p></td></tr></tbody></table></div></section></section><section class="chapter"><h2 id="types-d-finis-par-les-utilisateurs" data-toc="types-d-finis-par-les-utilisateurs">Types d&eacute;finis par les utilisateurs</h2><p id="ayhz68_1328">User-Defined Types (UDT)</p><section class="chapter"><h3 id="contacts4-sch-ma-objet-relationnel" data-toc="contacts4-sch-ma-objet-relationnel"><code class="code" id="ayhz68_1330">contacts4</code> Sch&eacute;ma objet-relationnel</h3><div class="code-block" data-lang="sql">
DROP SCHEMA IF EXISTS contacts4 CASCADE;
CREATE SCHEMA contacts4;
SET search_path TO contacts4;

CREATE TYPE contact_type AS ENUM ('emergency', 'friend', 
                                  'family', 'colleague');

CREATE TYPE contact AS (
    email TEXT,
    type contact_type
);
</div><div class="code-block" data-lang="sql">
CREATE TABLE users (
    uid INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    username VARCHAR(15) NOT NULL,
    email TEXT NOT NULL,
    firstname TEXT,
    lastname TEXT, 
    contacts contact[]
);
</div><div class="code-block" data-lang="sql">
INSERT INTO users (username, email, contacts)
    VALUES ('denis', 'denis.rinfret@example.com', 
            ARRAY[('help@example.com', 'emergency')::contact, 
                  ('minh@example.com', 'friend')::contact]),
            ('minh', 'minh@example.com', 
             ARRAY[('contact@example.com', 'family')::contact, 
                   ('ha@example.com', 'colleague')::contact]);
</div><div class="code-block" data-lang="sql">
SELECT uid, contacts FROM users;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1335"><thead><tr class="ijRowHead" id="ayhz68_1336"><th id="ayhz68_1337"><p>uid</p></th><th id="ayhz68_1338"><p>contacts</p></th></tr></thead><tbody><tr id="ayhz68_1339"><td id="ayhz68_1340"><p>1</p></td><td id="ayhz68_1341"><p>{&quot;(help@example.com,emergency)&quot;,&quot;(minh@example.com,friend)&quot;}</p></td></tr><tr id="ayhz68_1342"><td id="ayhz68_1343"><p>2</p></td><td id="ayhz68_1344"><p>{&quot;(contact@example.com,family)&quot;,&quot;(ha@example.com,colleague)&quot;}</p></td></tr></tbody></table></div><div class="code-block" data-lang="sql">
SELECT uid, username, email, 
    (unnest(contacts)::contact).*
FROM users;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1346"><thead><tr class="ijRowHead" id="ayhz68_1347"><th id="ayhz68_1348"><p>uid</p></th><th id="ayhz68_1349"><p>username</p></th><th id="ayhz68_1350"><p>email</p></th><th id="ayhz68_1351"><p>email_1</p></th><th id="ayhz68_1352"><p>type</p></th></tr></thead><tbody><tr id="ayhz68_1353"><td id="ayhz68_1354"><p>1</p></td><td id="ayhz68_1355"><p>denis</p></td><td id="ayhz68_1356"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1357"><p>help@example.com</p></td><td id="ayhz68_1358"><p>emergency</p></td></tr><tr id="ayhz68_1359"><td id="ayhz68_1360"><p>1</p></td><td id="ayhz68_1361"><p>denis</p></td><td id="ayhz68_1362"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1363"><p>minh@example.com</p></td><td id="ayhz68_1364"><p>friend</p></td></tr><tr id="ayhz68_1365"><td id="ayhz68_1366"><p>2</p></td><td id="ayhz68_1367"><p>minh</p></td><td id="ayhz68_1368"><p>minh@example.com</p></td><td id="ayhz68_1369"><p>contact@example.com</p></td><td id="ayhz68_1370"><p>family</p></td></tr><tr id="ayhz68_1371"><td id="ayhz68_1372"><p>2</p></td><td id="ayhz68_1373"><p>minh</p></td><td id="ayhz68_1374"><p>minh@example.com</p></td><td id="ayhz68_1375"><p>ha@example.com</p></td><td id="ayhz68_1376"><p>colleague</p></td></tr></tbody></table></div><div class="code-block" data-lang="sql">
SELECT uid, username, email, 
        (unnest(contacts)::contact).email AS contact_email, 
        (unnest(contacts)::contact).type AS contact_type 
FROM users;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1378"><thead><tr class="ijRowHead" id="ayhz68_1379"><th id="ayhz68_1380"><p>uid</p></th><th id="ayhz68_1381"><p>username</p></th><th id="ayhz68_1382"><p>email</p></th><th id="ayhz68_1383"><p>contact_email</p></th><th id="ayhz68_1384"><p>contact_type</p></th></tr></thead><tbody><tr id="ayhz68_1385"><td id="ayhz68_1386"><p>1</p></td><td id="ayhz68_1387"><p>denis</p></td><td id="ayhz68_1388"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1389"><p>help@example.com</p></td><td id="ayhz68_1390"><p>emergency</p></td></tr><tr id="ayhz68_1391"><td id="ayhz68_1392"><p>1</p></td><td id="ayhz68_1393"><p>denis</p></td><td id="ayhz68_1394"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1395"><p>minh@example.com</p></td><td id="ayhz68_1396"><p>friend</p></td></tr><tr id="ayhz68_1397"><td id="ayhz68_1398"><p>2</p></td><td id="ayhz68_1399"><p>minh</p></td><td id="ayhz68_1400"><p>minh@example.com</p></td><td id="ayhz68_1401"><p>contact@example.com</p></td><td id="ayhz68_1402"><p>family</p></td></tr><tr id="ayhz68_1403"><td id="ayhz68_1404"><p>2</p></td><td id="ayhz68_1405"><p>minh</p></td><td id="ayhz68_1406"><p>minh@example.com</p></td><td id="ayhz68_1407"><p>ha@example.com</p></td><td id="ayhz68_1408"><p>colleague</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="trouver-tous-les-contacts-d-urgence-d-un-utilisateur" data-toc="trouver-tous-les-contacts-d-urgence-d-un-utilisateur">Trouver tous les contacts d'urgence d'un utilisateur</h3><div class="code-block" data-lang="sql">
SELECT *
FROM (SELECT uid, username, email, 
        (unnest(contacts)::contact).email AS contact_email, 
        (unnest(contacts)::contact).type AS contact_type 
      FROM users) AS temp
WHERE contact_type = 'emergency';
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1410"><thead><tr class="ijRowHead" id="ayhz68_1411"><th id="ayhz68_1412"><p>uid</p></th><th id="ayhz68_1413"><p>username</p></th><th id="ayhz68_1414"><p>email</p></th><th id="ayhz68_1415"><p>contact_email</p></th><th id="ayhz68_1416"><p>contact_type</p></th></tr></thead><tbody><tr id="ayhz68_1417"><td id="ayhz68_1418"><p>1</p></td><td id="ayhz68_1419"><p>denis</p></td><td id="ayhz68_1420"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1421"><p>help@example.com</p></td><td id="ayhz68_1422"><p>emergency</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="trouver-les-utilisateurs-sans-contacts-d-urgence" data-toc="trouver-les-utilisateurs-sans-contacts-d-urgence">Trouver les utilisateurs sans contacts d'urgence</h3><div class="code-block" data-lang="sql">
SELECT uid, username, email
FROM users
WHERE 'emergency' NOT IN (SELECT (unnest(contacts)::contact).type);
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1424"><thead><tr class="ijRowHead" id="ayhz68_1425"><th id="ayhz68_1426"><p>uid</p></th><th id="ayhz68_1427"><p>username</p></th><th id="ayhz68_1428"><p>email</p></th></tr></thead><tbody><tr id="ayhz68_1429"><td id="ayhz68_1430"><p>2</p></td><td id="ayhz68_1431"><p>minh</p></td><td id="ayhz68_1432"><p>minh@example.com</p></td></tr></tbody></table></div><div class="code-block" data-lang="sql">
SELECT uid, username, email
FROM users
WHERE 'emergency' !=ALL (SELECT (unnest(contacts)::contact).type);
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1434"><thead><tr class="ijRowHead" id="ayhz68_1435"><th id="ayhz68_1436"><p>uid</p></th><th id="ayhz68_1437"><p>username</p></th><th id="ayhz68_1438"><p>email</p></th></tr></thead><tbody><tr id="ayhz68_1439"><td id="ayhz68_1440"><p>2</p></td><td id="ayhz68_1441"><p>minh</p></td><td id="ayhz68_1442"><p>minh@example.com</p></td></tr></tbody></table></div></section></section><section class="chapter"><h2 id="jsonb-la-place-de-tableaux" data-toc="jsonb-la-place-de-tableaux">JSONB &agrave; la place de tableaux</h2><section class="chapter"><h3 id="contacts5-sch-ma-objet-relationnel" data-toc="contacts5-sch-ma-objet-relationnel"><code class="code" id="ayhz68_1444">contacts5</code> Sch&eacute;ma objet-relationnel</h3><div class="code-block" data-lang="sql">
DROP SCHEMA IF EXISTS contacts5 CASCADE;
CREATE SCHEMA contacts5;
SET search_path TO contacts5;

CREATE TABLE users (
    uid INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    username VARCHAR(15) NOT NULL,
    email TEXT NOT NULL,
    firstname TEXT,
    lastname TEXT, 
    contacts jsonb
);
</div><div class="code-block" data-lang="sql">
INSERT INTO users (username, email, contacts)
    VALUES ('denis', 'denis.rinfret@example.com', 
            '{&quot;emergency&quot;: &quot;help@example.com&quot;, &quot;friend&quot;: &quot;minh@example.com&quot;}'),
            ('minh', 'minh@example.com', 
            '{&quot;family&quot;: &quot;contact@example.com&quot;, &quot;colleague&quot;: &quot;ha@example.com&quot;}');
</div><div class="code-block" data-lang="sql">
SELECT uid, contacts FROM users;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1448"><thead><tr class="ijRowHead" id="ayhz68_1449"><th id="ayhz68_1450"><p>uid</p></th><th id="ayhz68_1451"><p>contacts</p></th></tr></thead><tbody><tr id="ayhz68_1452"><td id="ayhz68_1453"><p>1</p></td><td id="ayhz68_1454"><p>{&quot;friend&quot;: &quot;minh@example.com&quot;, &quot;emergency&quot;: &quot;help@example.com&quot;}</p></td></tr><tr id="ayhz68_1455"><td id="ayhz68_1456"><p>2</p></td><td id="ayhz68_1457"><p>{&quot;family&quot;: &quot;contact@example.com&quot;, &quot;colleague&quot;: &quot;ha@example.com&quot;}</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="trouver-les-utilisateurs-avec-au-moins-un-contact-d-urgence" data-toc="trouver-les-utilisateurs-avec-au-moins-un-contact-d-urgence">Trouver les utilisateurs avec au moins un contact d'urgence</h3><div class="code-block" data-lang="sql">
SELECT uid, username, email
FROM users
WHERE 'emergency' IN (SELECT jsonb_object_keys(contacts));
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1459"><thead><tr class="ijRowHead" id="ayhz68_1460"><th id="ayhz68_1461"><p>uid</p></th><th id="ayhz68_1462"><p>username</p></th><th id="ayhz68_1463"><p>email</p></th></tr></thead><tbody><tr id="ayhz68_1464"><td id="ayhz68_1465"><p>1</p></td><td id="ayhz68_1466"><p>denis</p></td><td id="ayhz68_1467"><p>denis.rinfret@example.com</p></td></tr></tbody></table></div><div class="code-block" data-lang="sql">
SELECT uid, username, email
FROM users
WHERE contacts ? 'emergency';
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1469"><thead><tr class="ijRowHead" id="ayhz68_1470"><th id="ayhz68_1471"><p>uid</p></th><th id="ayhz68_1472"><p>username</p></th><th id="ayhz68_1473"><p>email</p></th></tr></thead><tbody><tr id="ayhz68_1474"><td id="ayhz68_1475"><p>1</p></td><td id="ayhz68_1476"><p>denis</p></td><td id="ayhz68_1477"><p>denis.rinfret@example.com</p></td></tr></tbody></table></div><div class="code-block" data-lang="sql">
SELECT uid, username, email, contacts-&gt;'emergency' AS emergency
FROM users
WHERE contacts ? 'emergency';
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1479"><thead><tr class="ijRowHead" id="ayhz68_1480"><th id="ayhz68_1481"><p>uid</p></th><th id="ayhz68_1482"><p>username</p></th><th id="ayhz68_1483"><p>email</p></th><th id="ayhz68_1484"><p>emergency</p></th></tr></thead><tbody><tr id="ayhz68_1485"><td id="ayhz68_1486"><p>1</p></td><td id="ayhz68_1487"><p>denis</p></td><td id="ayhz68_1488"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1489"><p>help@example.com</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="trouver-les-utilisateurs-sans-contacts-d-urgence_1" data-toc="trouver-les-utilisateurs-sans-contacts-d-urgence_1">Trouver les utilisateurs sans contacts d'urgence</h3><div class="code-block" data-lang="sql">
SELECT uid, username, email
FROM users
WHERE NOT(contacts ? 'emergency');
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1491"><thead><tr class="ijRowHead" id="ayhz68_1492"><th id="ayhz68_1493"><p>uid</p></th><th id="ayhz68_1494"><p>username</p></th><th id="ayhz68_1495"><p>email</p></th></tr></thead><tbody><tr id="ayhz68_1496"><td id="ayhz68_1497"><p>2</p></td><td id="ayhz68_1498"><p>minh</p></td><td id="ayhz68_1499"><p>minh@example.com</p></td></tr></tbody></table></div></section></section><section class="chapter"><h2 id="sch-ma-relationnel-avec-les-types-de-contact" data-toc="sch-ma-relationnel-avec-les-types-de-contact">Sch&eacute;ma relationnel avec les types de contact</h2><section class="chapter"><h3 id="contacts6-relational-schema" data-toc="contacts6-relational-schema"><code class="code" id="ayhz68_1501">contacts6</code> Relational Schema</h3><div class="code-block" data-lang="sql">
DROP SCHEMA IF EXISTS contacts6 CASCADE;
CREATE SCHEMA contacts6;
SET search_path TO contacts6;

CREATE TABLE users (
    uid INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    username VARCHAR(15) NOT NULL,
    email TEXT NOT NULL,
    firstname TEXT,
    lastname TEXT
);
</div><div class="code-block" data-lang="sql">
CREATE TYPE contact_type AS ENUM ('emergency', 'friend', 
                                  'family', 'colleague');

CREATE TABLE contacts (
    cid INT GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
    email TEXT NOT NULL,
    type contact_type NOT NULL,
    uid INTEGER REFERENCES users(uid)
);
</div><div class="code-block" data-lang="sql">
INSERT INTO users (username, email)
    VALUES ('denis', 'denis.rinfret@example.com'),
            ('minh', 'minh@example.com');

INSERT INTO contacts (email, type, uid) 
    VALUES ('help@example.com', 'emergency', 1), ('minh@example.com', 'friend', 1), 
        ('contact@example.com', 'colleague', 2) , ('ha@example.com', 'family', 2);
</div><div class="code-block" data-lang="sql">
SELECT * FROM users;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1506"><thead><tr class="ijRowHead" id="ayhz68_1507"><th id="ayhz68_1508"><p>uid</p></th><th id="ayhz68_1509"><p>username</p></th><th id="ayhz68_1510"><p>email</p></th><th id="ayhz68_1511"><p>firstname</p></th><th id="ayhz68_1512"><p>lastname</p></th></tr></thead><tbody><tr id="ayhz68_1513"><td id="ayhz68_1514"><p>1</p></td><td id="ayhz68_1515"><p>denis</p></td><td id="ayhz68_1516"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1517"><p>None</p></td><td id="ayhz68_1518"><p>None</p></td></tr><tr id="ayhz68_1519"><td id="ayhz68_1520"><p>2</p></td><td id="ayhz68_1521"><p>minh</p></td><td id="ayhz68_1522"><p>minh@example.com</p></td><td id="ayhz68_1523"><p>None</p></td><td id="ayhz68_1524"><p>None</p></td></tr></tbody></table></div><div class="code-block" data-lang="sql">
SELECT * FROM contacts;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1526"><thead><tr class="ijRowHead" id="ayhz68_1527"><th id="ayhz68_1528"><p>cid</p></th><th id="ayhz68_1529"><p>email</p></th><th id="ayhz68_1530"><p>type</p></th><th id="ayhz68_1531"><p>uid</p></th></tr></thead><tbody><tr id="ayhz68_1532"><td id="ayhz68_1533"><p>1</p></td><td id="ayhz68_1534"><p>help@example.com</p></td><td id="ayhz68_1535"><p>emergency</p></td><td id="ayhz68_1536"><p>1</p></td></tr><tr id="ayhz68_1537"><td id="ayhz68_1538"><p>2</p></td><td id="ayhz68_1539"><p>minh@example.com</p></td><td id="ayhz68_1540"><p>friend</p></td><td id="ayhz68_1541"><p>1</p></td></tr><tr id="ayhz68_1542"><td id="ayhz68_1543"><p>3</p></td><td id="ayhz68_1544"><p>contact@example.com</p></td><td id="ayhz68_1545"><p>colleague</p></td><td id="ayhz68_1546"><p>2</p></td></tr><tr id="ayhz68_1547"><td id="ayhz68_1548"><p>4</p></td><td id="ayhz68_1549"><p>ha@example.com</p></td><td id="ayhz68_1550"><p>family</p></td><td id="ayhz68_1551"><p>2</p></td></tr></tbody></table></div><div class="code-block" data-lang="sql">
SELECT *
FROM users u
         INNER JOIN contacts c ON u.uid = c.uid;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1553"><thead><tr class="ijRowHead" id="ayhz68_1554"><th id="ayhz68_1555"><p>uid</p></th><th id="ayhz68_1556"><p>username</p></th><th id="ayhz68_1557"><p>email</p></th><th id="ayhz68_1558"><p>firstname</p></th><th id="ayhz68_1559"><p>lastname</p></th><th id="ayhz68_1560"><p>cid</p></th><th id="ayhz68_1561"><p>email_1</p></th><th id="ayhz68_1562"><p>type</p></th><th id="ayhz68_1563"><p>uid_1</p></th></tr></thead><tbody><tr id="ayhz68_1564"><td id="ayhz68_1565"><p>1</p></td><td id="ayhz68_1566"><p>denis</p></td><td id="ayhz68_1567"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1568"><p>None</p></td><td id="ayhz68_1569"><p>None</p></td><td id="ayhz68_1570"><p>1</p></td><td id="ayhz68_1571"><p>help@example.com</p></td><td id="ayhz68_1572"><p>emergency</p></td><td id="ayhz68_1573"><p>1</p></td></tr><tr id="ayhz68_1574"><td id="ayhz68_1575"><p>1</p></td><td id="ayhz68_1576"><p>denis</p></td><td id="ayhz68_1577"><p>denis.rinfret@example.com</p></td><td id="ayhz68_1578"><p>None</p></td><td id="ayhz68_1579"><p>None</p></td><td id="ayhz68_1580"><p>2</p></td><td id="ayhz68_1581"><p>minh@example.com</p></td><td id="ayhz68_1582"><p>friend</p></td><td id="ayhz68_1583"><p>1</p></td></tr><tr id="ayhz68_1584"><td id="ayhz68_1585"><p>2</p></td><td id="ayhz68_1586"><p>minh</p></td><td id="ayhz68_1587"><p>minh@example.com</p></td><td id="ayhz68_1588"><p>None</p></td><td id="ayhz68_1589"><p>None</p></td><td id="ayhz68_1590"><p>3</p></td><td id="ayhz68_1591"><p>contact@example.com</p></td><td id="ayhz68_1592"><p>colleague</p></td><td id="ayhz68_1593"><p>2</p></td></tr><tr id="ayhz68_1594"><td id="ayhz68_1595"><p>2</p></td><td id="ayhz68_1596"><p>minh</p></td><td id="ayhz68_1597"><p>minh@example.com</p></td><td id="ayhz68_1598"><p>None</p></td><td id="ayhz68_1599"><p>None</p></td><td id="ayhz68_1600"><p>4</p></td><td id="ayhz68_1601"><p>ha@example.com</p></td><td id="ayhz68_1602"><p>family</p></td><td id="ayhz68_1603"><p>2</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="users-without-emergency-contacts_2" data-toc="users-without-emergency-contacts_2">Trouver les utilisateurs sans contacts d'urgence</h3><div class="code-block" data-lang="sql">
SELECT uid, username, email
FROM users
WHERE uid NOT IN (SELECT uid 
                 FROM contacts
                 WHERE type = 'emergency');
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1605"><thead><tr class="ijRowHead" id="ayhz68_1606"><th id="ayhz68_1607"><p>uid</p></th><th id="ayhz68_1608"><p>username</p></th><th id="ayhz68_1609"><p>email</p></th></tr></thead><tbody><tr id="ayhz68_1610"><td id="ayhz68_1611"><p>2</p></td><td id="ayhz68_1612"><p>minh</p></td><td id="ayhz68_1613"><p>minh@example.com</p></td></tr></tbody></table></div><div class="code-block" data-lang="sql">
SELECT users.uid, username, email
FROM users LEFT JOIN (SELECT uid 
                     FROM contacts
                     WHERE type = 'emergency') AS temp
    ON users.uid = temp.uid
WHERE temp.uid IS NULL;
</div><div class="table-wrapper"><table class="wide" id="ayhz68_1615"><thead><tr class="ijRowHead" id="ayhz68_1616"><th id="ayhz68_1617"><p>uid</p></th><th id="ayhz68_1618"><p>username</p></th><th id="ayhz68_1619"><p>email</p></th></tr></thead><tbody><tr id="ayhz68_1620"><td id="ayhz68_1621"><p>2</p></td><td id="ayhz68_1622"><p>minh</p></td><td id="ayhz68_1623"><p>minh@example.com</p></td></tr></tbody></table></div></section></section><section class="chapter"><h2 id="comment-traitons-nous-les-relations-plusieurs-plusieurs" data-toc="comment-traitons-nous-les-relations-plusieurs-plusieurs">Comment traitons-nous les relations plusieurs &agrave; plusieurs ?</h2><ul class="list _bullet" id="ayhz68_1624"><li class="list__item" id="ayhz68_1625"><p>Dans une base de donn&eacute;es relationnelle, nous avons besoin d'une table suppl&eacute;mentaire entre les 2 tables. </p><ul class="list _bullet" id="ayhz68_1626"><li class="list__item" id="ayhz68_1627"><p>Par exemple, nous avons besoin d'une table entre &quot;Users&quot; et &quot;Contacts&quot;, contenant des cl&eacute;s &eacute;trang&egrave;res pour les ID d'utilisateur et les ID de contact.</p></li></ul></li><li class="list__item" id="ayhz68_1628"><p>Comment r&eacute;cup&eacute;rons-nous toutes les donn&eacute;es ? </p><ul class="list _bullet" id="ayhz68_1629"><li class="list__item" id="ayhz68_1630"><p>Avec 2 jointures.</p></li></ul></li><li class="list__item" id="ayhz68_1631"><p>Qu'en est-il des autres mod&egrave;les de donn&eacute;es ? </p><ul class="list _bullet" id="ayhz68_1632"><li class="list__item" id="ayhz68_1633"><p>Avec des tableaux ?</p></li><li class="list__item" id="ayhz68_1634"><p>Avec JSONB ?</p></li></ul></li></ul><p id="ayhz68_1635"><span class="control" id="ayhz68_1636">Il n'y a pas de solutions miracles pour les relations plusieurs &agrave; plusieurs</span></p></section><div class="last-modified">Last modified: 04 avril 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="denormalisation.html" class="navigation-links__prev">D&eacute;normalisation</a><a href="diagrammes-d-etats.html" class="navigation-links__next">Diagrammes d'&eacute;tat</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.js"></script></body></html>