<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-03-13T19:51:08.889053202"><title>Design Patterns : Premi&egrave;re Partie | Help Instance</title><script type="application/json" id="virtual-toc-data">[{"id":"fabrique-factory-method-virtual-constructor","level":0,"title":"Fabrique (Factory Method, Virtual Constructor)","anchor":"#fabrique-factory-method-virtual-constructor"},{"id":"fabrique-abstraite-abstract-factory-kit","level":0,"title":"Fabrique Abstraite (Abstract Factory, Kit)","anchor":"#fabrique-abstraite-abstract-factory-kit"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.css" rel="stylesheet"><link rel="manifest" href="site.webmanifest"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Design Patterns : Premi&egrave;re Partie | Help Instance"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Help Instance Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation/designpatterns1-shapefactory.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Design Patterns : Premi&egrave;re Partie | Help Instance"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation/designpatterns1-shapefactory.html#webpage",
    "url": "writerside-documentation/designpatterns1-shapefactory.html",
    "name": "Design Patterns : Premi&egrave;re Partie | Help Instance",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Help Instance Help"
}</script><!-- End Schema.org --></head><body data-id="DesignPatterns1_ShapeFactory" data-main-title="Design Patterns : Première Partie" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Patrons-de-conception.md|Patrons de conception"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Help Instance  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="DesignPatterns1_ShapeFactory" id="DesignPatterns1_ShapeFactory.md">Design Patterns : Première Partie</h1><section class="chapter"><h2 id="fabrique-factory-method-virtual-constructor" data-toc="fabrique-factory-method-virtual-constructor">Fabrique (<span class="emphasis" id="-9fk93z_1152">Factory Method</span>, <span class="emphasis" id="-9fk93z_1153">Virtual Constructor</span>)</h2><section class="chapter"><h3 id="intention_1" data-toc="intention_1">Intention</h3><p id="-9fk93z_1154">D&eacute;finir une interface pour cr&eacute;er un objet, mais laisser les sous-classes d&eacute;cider quelle classe doit &ecirc;tre instanci&eacute;e. La fabrique permet &agrave; une classe de transf&eacute;rer la responsabilit&eacute; de cr&eacute;er des objets aux sous-classes.</p></section><section class="chapter"><h3 id="mise-en-contexte_1" data-toc="mise-en-contexte_1">Mise en contexte</h3><p id="-9fk93z_1155">Application de dessin, avec la possibilit&eacute; de dessiner au moins 2 types d'images, des images sur un <code class="code" id="-9fk93z_1156">Canvas</code> (voir <code class="code" id="-9fk93z_1157">ShapesLib</code>), ou des images de type * AsciiArt*. On peut dessiner des figures g&eacute;om&eacute;triques sur ces images.</p></section><section class="chapter"><h3 id="d-tails_1" data-toc="d-tails_1">D&eacute;tails</h3><ol class="list _decimal" id="-9fk93z_1158" type="1"><li class="list__item" id="-9fk93z_1159"><p>Menu principal </p><ul class="list _bullet" id="-9fk93z_1160"><li class="list__item" id="-9fk93z_1161"><p>Nouveau document </p><ul class="list _bullet" id="-9fk93z_1162"><li class="list__item" id="-9fk93z_1163"><p>Canvas</p></li><li class="list__item" id="-9fk93z_1164"><p>Ascii Art</p></li></ul></li><li class="list__item" id="-9fk93z_1165"><p>Ouvrir</p></li><li class="list__item" id="-9fk93z_1166"><p>Fermer</p></li><li class="list__item" id="-9fk93z_1167"><p>Sauvegarder</p></li></ul></li><li class="list__item" id="-9fk93z_1168"><p>L'application doit cr&eacute;er soit une <code class="code" id="-9fk93z_1169">CanvasApp</code>, soit une <code class="code" id="-9fk93z_1170">AsciiApp</code></p></li><li class="list__item" id="-9fk93z_1171"><p>Chaque app doit cr&eacute;er un document du bon type, <code class="code" id="-9fk93z_1172">CanvasDoc</code> ou <code class="code" id="-9fk93z_1173">AsciiDoc</code></p></li><li class="list__item" id="-9fk93z_1174"><p>La m&eacute;thode <code class="code" id="-9fk93z_1175">CreateDoc</code> est abstraite parce que le type de document cr&eacute;&eacute; va d&eacute;pendre du type d'image choisie </p><ul class="list _bullet" id="-9fk93z_1176"><li class="list__item" id="-9fk93z_1177"><p>donc le menu principal doit cr&eacute;er le bon type d'application, mais le reste du code de l'interface graphique va travailler avec les classes abstraites <code class="code" id="-9fk93z_1178">Application</code> et <code class="code" id="-9fk93z_1179">Document</code>, sans connaitre le type exact d'image</p></li><li class="list__item" id="-9fk93z_1180"><p>si ce n'&eacute;tait pas le cas, il faudrait faire des <code class="code" id="-9fk93z_1181">if ... else ...</code> ou des <code class="code" id="-9fk93z_1182">switch</code> partout sur le type d'image pour utiliser les bonnes classes</p></li><li class="list__item" id="-9fk93z_1183"><p>en utilisant les classe abstraites, cela permet de faire bon usage du polymorphisme</p></li></ul></li></ol><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="236px" preserveAspectRatio="none" style="width:814px;height:236px;background:#FFFFFF;" version="1.1" viewBox="0 0 814 236" width="814px" zoomAndPan="magnify"><defs/><g><!--class Document--><g id="elem_Document"><rect codeLine="1" fill="#F1F1F1" height="48" id="Document" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="106" x="120" y="31.5"/><ellipse cx="135" cy="47.5" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M135.1094,42.8438 L133.9531,47.9219 L136.2813,47.9219 L135.1094,42.8438 Z M133.625,40.6094 L136.6094,40.6094 L139.9688,53 L137.5156,53 L136.75,49.9375 L133.4688,49.9375 L132.7188,53 L130.2813,53 L133.625,40.6094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="74" x="149" y="52.3467">Document</text><line style="stroke:#181818;stroke-width:0.5;" x1="121" x2="225" y1="63.5" y2="63.5"/><line style="stroke:#181818;stroke-width:0.5;" x1="121" x2="225" y1="71.5" y2="71.5"/></g><!--class CanvasDoc--><g id="elem_CanvasDoc"><rect codeLine="4" fill="#F1F1F1" height="48" id="CanvasDoc" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="112" x="7" y="173"/><ellipse cx="22" cy="189" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M24.9688,194.6406 Q24.3906,194.9375 23.75,195.0781 Q23.1094,195.2344 22.4063,195.2344 Q19.9063,195.2344 18.5781,193.5938 Q17.2656,191.9375 17.2656,188.8125 Q17.2656,185.6875 18.5781,184.0313 Q19.9063,182.375 22.4063,182.375 Q23.1094,182.375 23.75,182.5313 Q24.4063,182.6875 24.9688,182.9844 L24.9688,185.7031 Q24.3438,185.125 23.75,184.8594 Q23.1563,184.5781 22.5313,184.5781 Q21.1875,184.5781 20.5,185.6563 Q19.8125,186.7188 19.8125,188.8125 Q19.8125,190.9063 20.5,191.9844 Q21.1875,193.0469 22.5313,193.0469 Q23.1563,193.0469 23.75,192.7813 Q24.3438,192.5 24.9688,191.9219 L24.9688,194.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="36" y="193.8467">CanvasDoc</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="118" y1="205" y2="205"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="118" y1="213" y2="213"/></g><!--class AsciiDoc--><g id="elem_AsciiDoc"><rect codeLine="8" fill="#F1F1F1" height="48" id="AsciiDoc" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="93" x="154.5" y="173"/><ellipse cx="169.5" cy="189" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M172.4688,194.6406 Q171.8906,194.9375 171.25,195.0781 Q170.6094,195.2344 169.9063,195.2344 Q167.4063,195.2344 166.0781,193.5938 Q164.7656,191.9375 164.7656,188.8125 Q164.7656,185.6875 166.0781,184.0313 Q167.4063,182.375 169.9063,182.375 Q170.6094,182.375 171.25,182.5313 Q171.9063,182.6875 172.4688,182.9844 L172.4688,185.7031 Q171.8438,185.125 171.25,184.8594 Q170.6563,184.5781 170.0313,184.5781 Q168.6875,184.5781 168,185.6563 Q167.3125,186.7188 167.3125,188.8125 Q167.3125,190.9063 168,191.9844 Q168.6875,193.0469 170.0313,193.0469 Q170.6563,193.0469 171.25,192.7813 Q171.8438,192.5 172.4688,191.9219 L172.4688,194.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="183.5" y="193.8467">AsciiDoc</text><line style="stroke:#181818;stroke-width:0.5;" x1="155.5" x2="246.5" y1="205" y2="205"/><line style="stroke:#181818;stroke-width:0.5;" x1="155.5" x2="246.5" y1="213" y2="213"/></g><!--class Application--><g id="elem_Application"><rect codeLine="12" fill="#F1F1F1" height="96.8906" id="Application" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="245" x="292.5" y="7"/><ellipse cx="370.75" cy="23" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M370.8594,18.3438 L369.7031,23.4219 L372.0313,23.4219 L370.8594,18.3438 Z M369.375,16.1094 L372.3594,16.1094 L375.7188,28.5 L373.2656,28.5 L372.5,25.4375 L369.2188,25.4375 L368.4688,28.5 L366.0313,28.5 L369.375,16.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="80" x="391.25" y="27.8467">Application</text><line style="stroke:#181818;stroke-width:0.5;" x1="293.5" x2="536.5" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="293.5" x2="536.5" y1="47" y2="47"/><ellipse cx="303.5" cy="60.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="219" x="312.5" y="63.9951">CreateDocument() : Document</text><ellipse cx="303.5" cy="76.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="201" x="312.5" y="80.292">NewDocument() : Document</text><ellipse cx="303.5" cy="93.2422" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="209" x="312.5" y="96.5889">OpenDocument() : Document</text></g><!--class CanvasApp--><g id="elem_CanvasApp"><rect codeLine="19" fill="#F1F1F1" height="64.2969" id="CanvasApp" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="245" x="282.5" y="165"/><ellipse cx="360.75" cy="181" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M363.7188,186.6406 Q363.1406,186.9375 362.5,187.0781 Q361.8594,187.2344 361.1563,187.2344 Q358.6563,187.2344 357.3281,185.5938 Q356.0156,183.9375 356.0156,180.8125 Q356.0156,177.6875 357.3281,176.0313 Q358.6563,174.375 361.1563,174.375 Q361.8594,174.375 362.5,174.5313 Q363.1563,174.6875 363.7188,174.9844 L363.7188,177.7031 Q363.0938,177.125 362.5,176.8594 Q361.9063,176.5781 361.2813,176.5781 Q359.9375,176.5781 359.25,177.6563 Q358.5625,178.7188 358.5625,180.8125 Q358.5625,182.9063 359.25,183.9844 Q359.9375,185.0469 361.2813,185.0469 Q361.9063,185.0469 362.5,184.7813 Q363.0938,184.5 363.7188,183.9219 L363.7188,186.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="381.25" y="185.8467">CanvasApp</text><line style="stroke:#181818;stroke-width:0.5;" x1="283.5" x2="526.5" y1="197" y2="197"/><line style="stroke:#181818;stroke-width:0.5;" x1="283.5" x2="526.5" y1="205" y2="205"/><ellipse cx="293.5" cy="218.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="302.5" y="221.9951">CreateDocument() : Document</text></g><!--class AsciiApp--><g id="elem_AsciiApp"><rect codeLine="25" fill="#F1F1F1" height="64.2969" id="AsciiApp" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="245" x="562.5" y="165"/><ellipse cx="650.25" cy="181" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M653.2188,186.6406 Q652.6406,186.9375 652,187.0781 Q651.3594,187.2344 650.6563,187.2344 Q648.1563,187.2344 646.8281,185.5938 Q645.5156,183.9375 645.5156,180.8125 Q645.5156,177.6875 646.8281,176.0313 Q648.1563,174.375 650.6563,174.375 Q651.3594,174.375 652,174.5313 Q652.6563,174.6875 653.2188,174.9844 L653.2188,177.7031 Q652.5938,177.125 652,176.8594 Q651.4063,176.5781 650.7813,176.5781 Q649.4375,176.5781 648.75,177.6563 Q648.0625,178.7188 648.0625,180.8125 Q648.0625,182.9063 648.75,183.9844 Q649.4375,185.0469 650.7813,185.0469 Q651.4063,185.0469 652,184.7813 Q652.5938,184.5 653.2188,183.9219 L653.2188,186.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="670.75" y="185.8467">AsciiApp</text><line style="stroke:#181818;stroke-width:0.5;" x1="563.5" x2="806.5" y1="197" y2="197"/><line style="stroke:#181818;stroke-width:0.5;" x1="563.5" x2="806.5" y1="205" y2="205"/><ellipse cx="573.5" cy="218.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="219" x="582.5" y="221.9951">CreateDocument() : Document</text></g><!--reverse link Document to CanvasDoc--><g id="link_Document_CanvasDoc"><path codeLine="6" d="M143.6898,93.6705 C123.2998,119.5105 101.58,147.07 81.19,172.93 " fill="none" id="Document-backto-CanvasDoc" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="154.84,79.54,138.9796,89.9538,148.4,97.3873,154.84,79.54" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link Document to AsciiDoc--><g id="link_Document_AsciiDoc"><path codeLine="10" d="M181.1645,97.1876 C186.3545,123.0276 191.18,147.07 196.37,172.93 " fill="none" id="Document-backto-AsciiDoc" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="177.62,79.54,175.282,98.3691,187.0471,96.006,177.62,79.54" style="stroke:#181818;stroke-width:1.0;"/></g><!--link Document to Application--><g id="link_Document_Application"><path codeLine="17" d="M232.11,55.5 C251.73,55.5 256.86,55.5 280.1,55.5 " fill="none" id="Document-Application" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="226.11,55.5,235.11,59.5,231.11,55.5,235.11,51.5,226.11,55.5" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="292.1,55.5,286.1,51.5,280.1,55.5,286.1,59.5,292.1,55.5" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="244.25" y="48.5669">docs</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="234.0708" y="51.5215">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="277.3975" y="52.1172">*</text></g><!--reverse link Application to CanvasApp--><g id="link_Application_CanvasApp"><path codeLine="22" d="M410.3006,122.0738 C408.8606,142.1238 408.52,146.94 407.24,164.79 " fill="none" id="Application-backto-CanvasApp" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="411.59,104.12,404.316,121.6439,416.2851,122.5036,411.59,104.12" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link CanvasDoc to CanvasApp--><g id="link_CanvasDoc_CanvasApp"><path codeLine="23" d="M93.7663,168.9893 C110.9363,154.8093 130.05,142.05 154.5,134.5 C220.02,114.26 296.7,140.54 347.8,164.96 " fill="none" id="CanvasDoc-backto-CanvasApp" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="89.14,172.81,98.6265,170.1632,92.9952,169.6261,93.5323,163.9948,89.14,172.81" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link Application to AsciiApp--><g id="link_Application_AsciiApp"><path codeLine="28" d="M523.152,112.3818 C561.962,132.4318 590.04,146.94 624.6,164.79 " fill="none" id="Application-backto-AsciiApp" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="507.16,104.12,520.3981,117.7124,525.9059,107.0511,507.16,104.12" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link AsciiDoc to AsciiApp--><g id="link_AsciiDoc_AsciiApp"><path codeLine="29" d="M228.1866,168.7557 C243.2966,154.5857 260.04,142.12 282.5,134.5 C385.62,99.51 420.55,114.05 527.5,134.5 C559.14,140.55 592.53,152.86 620.38,164.96 " fill="none" id="AsciiDoc-backto-AsciiApp" style="stroke:#181818;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="223.81,172.86,233.1111,169.6212,227.4572,169.4397,227.6387,163.7858,223.81,172.86" style="stroke:#181818;stroke-width:1.0;"/></g><!--SRC=[dP5D3i8W48NtSuf9L_wa7g1XqzIrdc545YGLIC6wgDnTWa9fKbsu8ddlcvcN1rsi6uWxv3rPYqVDxpUX74xW0TvQHsea6vmePe8zwths4jnQBkKwcom0MXvjZUab9oUr2cE8k9yIuR4R13cHDcsssEIG4Js9ntVpR8HQTujmrQv2Lklubb6Qg-OMSLb303uPVmNpK2ugcWeop7soGo6N1Vvz9Kr3_eTm8ual]--></g></svg></div></section></section><section class="chapter"><h2 id="fabrique-abstraite-abstract-factory-kit" data-toc="fabrique-abstraite-abstract-factory-kit">Fabrique Abstraite (<span class="emphasis" id="-9fk93z_1187">Abstract Factory</span>, <span class="emphasis" id="-9fk93z_1188">Kit</span>)</h2><section class="chapter"><h3 id="intention" data-toc="intention">Intention</h3><p id="-9fk93z_1189">Donner une interface pour cr&eacute;er une famille d'objets semblables ou d&eacute;pendants sans sp&eacute;cifier leur classe concr&egrave;te.</p></section><section class="chapter"><h3 id="mise-en-contexte" data-toc="mise-en-contexte">Mise en contexte</h3><p id="-9fk93z_1190">Continuation de l'exemple pr&eacute;c&eacute;dent. Pour cr&eacute;er les figures g&eacute;om&eacute;triques (les <code class="code" id="-9fk93z_1191">Shape</code>s), doit-on cr&eacute;er les versions <code class="code" id="-9fk93z_1192">CanvasApp</code> ou <code class="code" id="-9fk93z_1193">AsciiApp</code>? Il faut &eacute;viter de faire des <code class="code" id="-9fk93z_1194">if ... else ...</code> ou des <code class="code" id="-9fk93z_1195">switch</code> partout.</p></section><section class="chapter"><h3 id="d-tails" data-toc="d-tails">D&eacute;tails</h3><ol class="list _decimal" id="-9fk93z_1196" type="1"><li class="list__item" id="-9fk93z_1197"><p>Bouton pour cr&eacute;er une ligne (ou un cercle ou un rectangle...) : </p><ul class="list _bullet" id="-9fk93z_1198"><li class="list__item" id="-9fk93z_1199"><p>a-t-on besoin d'un <code class="code" id="-9fk93z_1200">if</code> pour savoir quel objet cr&eacute;er exactement ?</p></li><li class="list__item" id="-9fk93z_1201"><p>une ligne sur un <code class="code" id="-9fk93z_1202">Canvas</code> ou une ligne <code class="code" id="-9fk93z_1203">Ascii</code>?</p></li></ul></li><li class="list__item" id="-9fk93z_1204"><p>Il faut cr&eacute;er 2 <code class="code" id="-9fk93z_1205">ShapeFactory</code>, avec des m&eacute;thodes pour chaque type de <code class="code" id="-9fk93z_1206">Shape</code></p></li><li class="list__item" id="-9fk93z_1207"><p><code class="code" id="-9fk93z_1208">CanvasApp</code> va cr&eacute;er une <code class="code" id="-9fk93z_1209">CanvasShapeFactory</code></p></li><li class="list__item" id="-9fk93z_1210"><p><code class="code" id="-9fk93z_1211">AsciiApp</code> va cr&eacute;er une <code class="code" id="-9fk93z_1212">AsciiShapeFactory</code></p></li><li class="list__item" id="-9fk93z_1213"><p>La classe abstraite <code class="code" id="-9fk93z_1214">ShapeFactory</code> va &ecirc;tre utilis&eacute;e au niveau de la classe <code class="code" id="-9fk93z_1215">Application</code></p></li><li class="list__item" id="-9fk93z_1216"><p>Chaque application va avoir une m&eacute;thode (ou peut-&ecirc;tre une propri&eacute;t&eacute;) de type <code class="code" id="-9fk93z_1217">ShapeFactory</code></p><ul class="list _bullet" id="-9fk93z_1218"><li class="list__item" id="-9fk93z_1219"><p><code class="code" id="-9fk93z_1220">App.ShapeFactory.createLine()</code> va retourner une nouvelle ligne, de type <code class="code" id="-9fk93z_1221">Canvas</code> ou <code class="code" id="-9fk93z_1222">Ascii</code>, selon la sous-classe utilis&eacute;e au moment de la cr&eacute;ation</p></li><li class="list__item" id="-9fk93z_1223"><p>ce code sera utilis&eacute;, par exemple, dans le <code class="code" id="-9fk93z_1224">onClick</code> (ou autre gestionnaire d&rsquo;&eacute;v&egrave;nement) d'un bouton, ou d'un item de menu, ou d'un raccourci clavier, ...</p></li></ul></li></ol><style>.theme-dark .plantuml > svg {filter: hue-rotate(180deg) invert(0.9);}div.plantuml {overflow-x: auto;}</style><div class="plantuml"><?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="235px" preserveAspectRatio="none" style="width:410px;height:235px;background:#FFFFFF;" version="1.1" viewBox="0 0 410 235" width="410px" zoomAndPan="magnify"><defs/><g><!--class ShapeFactory--><g id="elem_ShapeFactory"><rect codeLine="1" fill="#F1F1F1" height="80.5938" id="ShapeFactory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="116.5" y="7"/><ellipse cx="153.55" cy="23" fill="#A9DCDF" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M153.6594,18.3438 L152.5031,23.4219 L154.8313,23.4219 L153.6594,18.3438 Z M152.175,16.1094 L155.1594,16.1094 L158.5188,28.5 L156.0656,28.5 L155.3,25.4375 L152.0188,25.4375 L151.2688,28.5 L148.8313,28.5 L152.175,16.1094 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="98" x="172.45" y="27.8467">ShapeFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="117.5" x2="294.5" y1="39" y2="39"/><line style="stroke:#181818;stroke-width:0.5;" x1="117.5" x2="294.5" y1="47" y2="47"/><ellipse cx="127.5" cy="60.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="131" x="136.5" y="63.9951">CreateLine() : Line</text><ellipse cx="127.5" cy="76.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="153" x="136.5" y="80.292">CreateCircle() : Circle</text></g><!--class CanvasShapeFactory--><g id="elem_CanvasShapeFactory"><rect codeLine="6" fill="#F1F1F1" height="80.5938" id="CanvasShapeFactory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="182" x="7" y="148"/><ellipse cx="22" cy="164" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M24.9688,169.6406 Q24.3906,169.9375 23.75,170.0781 Q23.1094,170.2344 22.4063,170.2344 Q19.9063,170.2344 18.5781,168.5938 Q17.2656,166.9375 17.2656,163.8125 Q17.2656,160.6875 18.5781,159.0313 Q19.9063,157.375 22.4063,157.375 Q23.1094,157.375 23.75,157.5313 Q24.4063,157.6875 24.9688,157.9844 L24.9688,160.7031 Q24.3438,160.125 23.75,159.8594 Q23.1563,159.5781 22.5313,159.5781 Q21.1875,159.5781 20.5,160.6563 Q19.8125,161.7188 19.8125,163.8125 Q19.8125,165.9063 20.5,166.9844 Q21.1875,168.0469 22.5313,168.0469 Q23.1563,168.0469 23.75,167.7813 Q24.3438,167.5 24.9688,166.9219 L24.9688,169.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="150" x="36" y="168.8467">CanvasShapeFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="188" y1="180" y2="180"/><line style="stroke:#181818;stroke-width:0.5;" x1="8" x2="188" y1="188" y2="188"/><ellipse cx="18" cy="201.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="27" y="204.9951">CreateLine() : Line</text><ellipse cx="18" cy="217.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="27" y="221.292">CreateCircle() : Circle</text></g><!--class AsciiShapeFactory--><g id="elem_AsciiShapeFactory"><rect codeLine="12" fill="#F1F1F1" height="80.5938" id="AsciiShapeFactory" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="179" x="224.5" y="148"/><ellipse cx="246.7" cy="164" fill="#ADD1B2" rx="11" ry="11" style="stroke:#181818;stroke-width:1.0;"/><path d="M249.6688,169.6406 Q249.0906,169.9375 248.45,170.0781 Q247.8094,170.2344 247.1063,170.2344 Q244.6063,170.2344 243.2781,168.5938 Q241.9656,166.9375 241.9656,163.8125 Q241.9656,160.6875 243.2781,159.0313 Q244.6063,157.375 247.1063,157.375 Q247.8094,157.375 248.45,157.5313 Q249.1063,157.6875 249.6688,157.9844 L249.6688,160.7031 Q249.0438,160.125 248.45,159.8594 Q247.8563,159.5781 247.2313,159.5781 Q245.8875,159.5781 245.2,160.6563 Q244.5125,161.7188 244.5125,163.8125 Q244.5125,165.9063 245.2,166.9844 Q245.8875,168.0469 247.2313,168.0469 Q247.8563,168.0469 248.45,167.7813 Q249.0438,167.5 249.6688,166.9219 L249.6688,169.6406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="262.3" y="168.8467">AsciiShapeFactory</text><line style="stroke:#181818;stroke-width:0.5;" x1="225.5" x2="402.5" y1="180" y2="180"/><line style="stroke:#181818;stroke-width:0.5;" x1="225.5" x2="402.5" y1="188" y2="188"/><ellipse cx="235.5" cy="201.6484" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="244.5" y="204.9951">CreateLine() : Line</text><ellipse cx="235.5" cy="217.9453" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="244.5" y="221.292">CreateCircle() : Circle</text></g><!--reverse link ShapeFactory to CanvasShapeFactory--><g id="link_ShapeFactory_CanvasShapeFactory"><path codeLine="10" d="M164.0059,102.5437 C149.5459,121.1537 143.41,129.05 128.95,147.66 " fill="none" id="ShapeFactory-backto-CanvasShapeFactory" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="175.05,88.33,159.268,98.8623,168.7438,106.225,175.05,88.33" style="stroke:#181818;stroke-width:1.0;"/></g><!--reverse link ShapeFactory to AsciiShapeFactory--><g id="link_ShapeFactory_AsciiShapeFactory"><path codeLine="16" d="M247.9941,102.5437 C262.4541,121.1537 268.59,129.05 283.05,147.66 " fill="none" id="ShapeFactory-backto-AsciiShapeFactory" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="none" points="236.95,88.33,243.2562,106.225,252.732,98.8623,236.95,88.33" style="stroke:#181818;stroke-width:1.0;"/></g><!--SRC=[IqmgBYbAJ2vHICv9B2vM2Cv8B4Xr0_BpYoeLghaK51IqgnEXIceLd8jI4qjIVJBpKZKq5QmKG0piIfmpYv9p88eWJAvQBYw83Sw9UMM9nLZimMKuRXDH3B6fqTN5OZZCMiVYvCnC6jcAOJON0000]--></g></svg></div></section></section><div class="last-modified">Last modified: 13 mars 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="principesoo.html" class="navigation-links__prev">Principes OO</a><a href="designpatterns2-creation.html" class="navigation-links__next">Design Patterns : Deuxi&egrave;me Partie</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b224/app.js"></script></body></html>